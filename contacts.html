<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ШКОЛЫ ИСБ</title>
    <link rel="stylesheet" href="css/globals.css">
    <link rel="stylesheet" href="fonts/font.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/buttons.css">
    <link rel="stylesheet" href="css/card.css">
    <link
  rel="stylesheet"
  href="https://unpkg.com/swiper/swiper-bundle.min.css"/>
</head>
<body>
   <header class="header">
  <div class="header__wrapper">
    <div class="header-top">
      <a href="#" class="header-top__link desk" id="openSchoolModalBtn">Открыть школу <img src="assets/img/icon-add.svg" alt="добавить"></a>
      <a href="index.html" class="header-top__logo"><img src="assets/img/icon-logo.svg" alt="Логотип школы"></a>
      <a href="#" class="header-top__link"><img src="assets/img/icon-lang.svg" alt="язык">Русский<img src="assets/img/icon-arrow.svg" alt="стрелка вниз"></a>
    </div>
  </div>

  <div class="header-bottom">
    <nav class="header-bottom__nav">
      <ul class="header-bottom__list">
        <li class="header-bottom__item"><a href="about.html" class="header-bottom__link">О проекте</a></li>
        <li class="header-bottom__item"><a href="contacts.html" class="header-bottom__link">Контакты</a></li>
        <li class="header-bottom__item"><a href="cup.html" class="header-bottom__link">Кубок школ исб</a></li>
        <li class="header-bottom__item"><a href="catalog.html" class="header-bottom__link">Каталог</a></li>
        <li class="header-bottom__item has-submenu">
          <button class="header-bottom__link" aria-expanded="false">
            Тренерский совет
            <img src="assets/img/icon-arrow_back.svg" alt="">
          </button>
          <ul class="dropdown-list" hidden>
            <li><a href="#">Совет 1</a></li>
            <li><a href="#">Совет 2</a></li>
          </ul>
        </li>
        <li class="header-bottom__item has-submenu">
          <button class="header-bottom__link" aria-expanded="false">
            Документы
            <img src="assets/img/icon-arrow_back.svg" alt="">
          </button>
          <ul class="dropdown-list" hidden>
            <li><a href="#">Положение</a></li>
            <li><a href="#">Регламент</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </div>

  <div class="header-mob">
    <a href="#" class="header-mob__add"><img src="assets/img/mob/plus.svg" alt="добавить"></a>
    <a href="index.html" class="header-mob__logo"><img src="assets/img/mob/logo.svg" alt="Логотип школы"></a>
    <a href="#" class="header-mob__burger" id="burger-btn"><img src="assets/img/mob/burger.svg" alt="меню"></a>
  </div>
</header>

<div class="mobile-menu" id="mobileMenu">
  <button class="mobile-menu__close" id="menuClose">×</button>
  <nav class="mobile-menu__nav">
    <ul>
      <li><a href="about.html">О проекте</a></li>
      <li><a href="contacts.html">Контакты</a></li>
      <li><a href="cup.html">Кубок школ исб</a></li>
      <li><a href="#">Каталог</a></li>
      <li>
        <details>
          <summary>Тренерский совет</summary>
          <ul>
            <li><a href="#">Совет 1</a></li>
            <li><a href="#">Совет 2</a></li>
          </ul>
        </details>
      </li>
      <li>
        <details>
          <summary>Документы</summary>
          <ul>
            <li><a href="#">Положение</a></li>
            <li><a href="#">Регламент</a></li>
          </ul>
        </details>
      </li>
    </ul>
  </nav>
</div>

  <main>
     <section class="section-one">
    <div class="section-one__l section-one__l--comtacts">
        <div class="section-one__text">
            <p class="about-description__text contacts-description__text"><b>Школы ИСБ</b> - это грандиозный спортивный проект, целиком посвященный развитию средневекового
                 боя как спорта и формированию <b>нового поколения бойцов</b>, способных в будущем занять свое место
                  в Сборной по ИСБ и сохранить за Россией <b>пьедестал Чемпионов Мира</b>. Мы поставили перед собой
                   высокую планку, 
                ведь функции Школ ИСБ схожи по назначению с функциями Школ Олимпийского резерва. </p>
    </div></div>
    <div class="section-one__r section-one__r--contacts"></div>
</section>



<section class="location">
  <div class="location__l">
    <div class="big-card__logo-conteiner">
      <img src="assets/img/about/ШКОЛЫ СБ РОССИИ ЛОГО 2 (1).svg" alt="Логотип школы ИСБ">
    </div>
    <h2 class="location__title">Карта<br>школ ИСБ</h2>
    <p class="location__text">Интерактивная карта школ по всей России</p>
  </div>

  <div class="location__r">
    <img class="location__r-img" src="assets/img/contacts/location.jpg" alt="">

    <!-- Кнопки с координатами -->
    <button
    class="location__r-point"
    style="top: 52%; left: 9%;"
    data-title="Архангельск"
    data-address="Адрес школы в Калининграде"
    data-leader="Имя руководителя"
    data-logo="assets/img/logos/kaliningrad.png"
    data-group-url="https://vk.com/group_kaliningrad"
    data-open-url="https://vk.com/open_kaliningrad"
    ></button>
    
    <button
    class="location__r-point"
    style="top: 61%; left: 4%;"
    data-title="Санкт-Петербурге"
    data-address="Кадетская лин. ВО, 5 корпус. 2Д, Вавилов лофт"
    data-leader="Самойлов Юрий"
    data-logo="assets/img/logos/spb.png"
    data-group-url="https://vk.com/group_spb"
    data-open-url="https://vk.com/open_spb"
    ></button>
    
    
    <button
    class="location__r-point"
    style="top: 73%; left: 7%;"
    data-title="Москва"
    data-address="Адрес в Нижнем Новгороде"
    data-leader="Имя руководителя"
    data-logo="assets/img/logos/nizhny.png"
    data-group-url="https://vk.com/group_nizhny"
    data-open-url="https://vk.com/open_nizhny"
    ></button>

    <button
      class="location__r-point"
      style="top: 89.5%; left: 9%;"
      data-title="Краснодар"
      data-address="Адрес школы в Москве"
      data-leader="Имя руководителя"
      data-logo="assets/img/logos/moscow.png"
      data-group-url="https://vk.com/group_moscow"
      data-open-url="https://vk.com/open_moscow"
    ></button>

<button
  class="location__r-point"
  style="top: 85.5%; left: 8.5%;"
  data-title="Ростов-на-Дону"
  data-address="Адрес в Казани"
  data-leader="Имя руководителя"
  data-logo="assets/img/logos/kazan.png"
  data-group-url="https://vk.com/group_kazan"
  data-open-url="https://vk.com/open_kazan"
></button>

<button
  class="location__r-point"
  style="top: 83%; left: 7.3%;"
  data-title="Луганск"
  data-address="Адрес в Екатеринбурге"
  data-leader="Имя руководителя"
  data-logo="assets/img/logos/ekb.png"
  data-group-url="https://vk.com/group_ekb"
  data-open-url="https://vk.com/open_ekb"
></button>

<button
  class="location__r-point"
  style="top: 80%; left: 5%;"
  data-title="Орел"
  data-address="Адрес в Тюмени"
  data-leader="Имя руководителя"
  data-logo="assets/img/logos/tyumen.png"
  data-group-url="https://vk.com/group_tyumen"
  data-open-url="https://vk.com/open_tyumen"
></button>

<!-- Далее идут одинаковые по тексту "Школа в Омске". Я их тоже перепишу, но координаты сохраняю. Логотип, ссылки и т.д. — одинаковые -->

<button 
class="location__r-point"
 style="top: 87%; left: 11%;"
  data-title="Ставрополь"
   data-address="Адрес в Омске"
    data-leader="Имя руководителя"
     data-logo="assets/img/logos/omsk.png"
      data-group-url="https://vk.com/group_omsk"
       data-open-url="https://vk.com/open_omsk"
       ></button>
<button 
class="location__r-point"
 style="top: 83%; left: 11.1%;"
  data-title="Волгоград"
   data-address="Адрес в Омске"
    data-leader="Имя руководителя"
     data-logo="assets/img/logos/omsk.png"
      data-group-url="https://vk.com/group_omsk"
       data-open-url="https://vk.com/open_omsk"
       ></button>
<button 
class="location__r-point"
 style="top: 82%; left: 9.3%;"
  data-title="Воронеж"
   data-address="Адрес в Омске"
    data-leader="Имя руководителя"
     data-logo="assets/img/logos/omsk.png"
      data-group-url="https://vk.com/group_omsk"
       data-open-url="https://vk.com/open_omsk"
       ></button>
<button 
class="location__r-point"
 style="top: 80%; left: 7%;" 
 data-title="Старый Оскол" 
 data-address="Адрес в Омске"
  data-leader="Имя руководителя" 
  data-logo="assets/img/logos/omsk.png"
   data-group-url="https://vk.com/group_omsk"
    data-open-url="https://vk.com/open_omsk"
    ></button>
<button 
class="location__r-point"
 style="top: 75%; left: 9%;"
  data-title="Рязань"
   data-address="Адрес в Омске"
    data-leader="Имя руководителя"
     data-logo="assets/img/logos/omsk.png"
      data-group-url="https://vk.com/group_omsk"
       data-open-url="https://vk.com/open_omsk"
       ></button>
<button 
class="location__r-point"
 style="top: 73%; left: 10.5%;"
  data-title="Нижний Новгород" 
  data-address="Адрес в Омске"
   data-leader="Имя руководителя"
    data-logo="assets/img/logos/omsk.png"
     data-group-url="https://vk.com/group_omsk"
      data-open-url="https://vk.com/open_omsk"
      ></button>
<button 
class="location__r-point"
 style="top: 72%; left: 14.5%;"
  data-title="Казань" 
  data-address="Адрес в Омске"
   data-leader="Имя руководителя"
    data-logo="assets/img/logos/omsk.png"
     data-group-url="https://vk.com/group_omsk"
      data-open-url="https://vk.com/open_omsk"
      ></button>
<button 
class="location__r-point"
 style="top: 77.5%; left: 13.7%;"
  data-title="Самара"
   data-address="Адрес в Омске"
    data-leader="Имя руководителя"
     data-logo="assets/img/logos/omsk.png"
      data-group-url="https://vk.com/group_omsk"
       data-open-url="https://vk.com/open_omsk"
       ></button>
<button 
class="location__r-point"
 style="top: 69%; left: 12.7%;"
  data-title="Киров"
   data-address="Адрес в Омске"
    data-leader="Имя руководителя"
     data-logo="assets/img/logos/omsk.png"
      data-group-url="https://vk.com/group_omsk"
       data-open-url="https://vk.com/open_omsk"
       ></button>
<button 
class="location__r-point"
 style="top: 68%; left: 17.7%;"
  data-title="Пермь"
   data-address="Адрес в Омске"
    data-leader="Имя руководителя"
     data-logo="assets/img/logos/omsk.png"
      data-group-url="https://vk.com/group_omsk"
       data-open-url="https://vk.com/open_omsk"
       ></button>
<button 
class="location__r-point"
 style="top: 69%; left: 15%;"
  data-title="Глазов"
   data-address="Адрес в Омске"
    data-leader="Имя руководителя" 
    data-logo="assets/img/logos/omsk.png" 
    data-group-url="https://vk.com/group_omsk" 
    data-open-url="https://vk.com/open_omsk"
    ></button>
<button 
class="location__r-point"
 style="top: 70.9%; left: 22.5%;" 
 data-title="Челябинск" 
 data-address="Адрес в Омске" 
 data-leader="Имя руководителя" 
 data-logo="assets/img/logos/omsk.png" 
 data-group-url="https://vk.com/group_omsk" 
 data-open-url="https://vk.com/open_omsk"
 ></button>
<button 
class="location__r-point"
 style="top: 73.7%; left: 36%;" 
 data-title="Новосибирс" 
 data-address="Адрес в Омске" 
 data-leader="Имя руководителя"
  data-logo="assets/img/logos/omsk.png" 
  data-group-url="https://vk.com/group_omsk" 
  data-open-url="https://vk.com/open_omsk"
  ></button>
<button 
class="location__r-point"
 style="top: 73.1%; left: 41.7%;" 
 data-title="Красноярск" 
 data-address="Адрес в Омске" 
 data-leader="Имя руководителя" 
 data-logo="assets/img/logos/omsk.png" 
 data-group-url="https://vk.com/group_omsk" 
 data-open-url="https://vk.com/open_omsk"
 ></button>
<button 
class="location__r-point"
 style="top: 71.1%; left: 44%;" 
 data-title="Зеленогорск" 
 data-address="Адрес в Омске" 
 data-leader="Имя руководителя" 
 data-logo="assets/img/logos/omsk.png" 
 data-group-url="https://vk.com/group_omsk" 
 data-open-url="https://vk.com/open_omsk"
 ></button>
<button 
class="location__r-point"
 style="top: 63.7%; left: 79%;" 
 data-title="Магадан" 
 data-address="Адрес в Омске" 
 data-leader="Имя руководителя" 
 data-logo="assets/img/logos/omsk.png" 
 data-group-url="https://vk.com/group_omsk" 
 data-open-url="https://vk.com/open_omsk"
 ></button>




    <!-- <button class="location__r-point" style="top: 64%; left: 75%;" data-text="Школа в Новосибирске"></button>
    <button class="location__r-point" style="top: 67%; left: 85%;" data-text="Школа в Красноярске"></button>
    <button class="location__r-point" style="top: 72%; left: 91%;" data-text="Школа во Владивостоке"></button> -->
  </div>
</section>

<!-- Модалка -->
<!-- <div class="modal" id="modal">
  <div class="modal__content">
    <span class="modal__close" id="modal-close">&times;</span>
    <p id="modal-text">Тут будет текст по кнопке</p>
  </div>
</div> -->
<div id="modal" class="modal">
  <!-- Закрыть -->
  <div id="modal-close" class="modal__close">×</div>

  <!-- Обычное окно (одна школа) -->
  <div id="modal-single">
    <img id="modal-logo" />
    <h2 id="modal-title"></h2>
    <p><strong>Адрес:</strong> <span id="modal-address"></span></p>
    <p><strong>Руководитель:</strong> <span id="modal-leader"></span></p>
    <a id="modal-group" href="#" target="_blank">Сообщество</a>
    <a id="modal-open" href="#" target="_blank">Открыть</a>
  </div>

  <!-- Слайдер Swiper (несколько школ) -->
  <div id="modal-multi" style="display: none;">
    <div class="swiper">
      <div class="swiper-wrapper" id="swiper-wrapper"></div>
      <div class="swiper-pagination"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
  </div>
</div>


  </main>

  <div class="modal-school" id="modalSchool">
  <div class="modal-school__content">
    <span class="modal-school__close" id="closeSchoolModalBtn">&times;</span>
    <h2>Заполните форму</h2>
    <form id="schoolForm">
      <input type="text" name="fio" placeholder="ФИО" required>
      <input type="tel" name="phone" id="phoneInput" placeholder="Телефон" required>
      <input type="text" name="location" placeholder="Населённый пункт" required>

      <div class="modal-school__radio-group">
        <label><input type="radio" name="action" value="learn" required> Начать обучение</label>
        <label><input type="radio" name="action" value="open" required> Открыть школу</label>
      </div>

      <button type="submit">Отправить</button>
    </form>
  </div>
</div>
    
<footer class="footer">
    <h4 class="footer__title">Ростов-на-Дону</h4>
    <p class="footer__text">мфсоо школы исторического<br>средневекового боя</p>
    <div class="footer__icon-conteiner">
      <a href="#" class="footer__icon-img-conteiner"><img src="assets/img/footer/Rutube_icon.svg 1.png" alt="Рутуб"></a>
      <a href="#" class="footer__icon-img-conteiner"><img src="assets/img/footer/VK_Compact_Logo_(2021-present).svg 1.png" alt="ВКонтакте"></a>
      <a href="#" class="footer__icon-img-conteiner"><img src="assets/img/footer/telegram7584-Photoroom 1.png" alt="Телеграм"></a>
    </div>
    
    <div class="time-container">
  <div class="time-block">
    <span class="label">UTC</span>
    <span id="utc-time" class="time"></span>
  </div>
  <div class="time-block">
    <img src="assets/img/footer/pace.svg" alt="Clock" class="clock-icon">
    <span class="label">MSK</span>
    <span id="msk-time" class="time"></span>
  </div>
</div>



  <div class="footer__old">16+</div>
  <div class="footer__bg"></div>

  </footer>
   <script src="js/header.js"></script>
 <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
  <script src="js/slider.js"></script>

<script>
  // Установка задержки для появления точек
  document.querySelectorAll('.location__r-point').forEach((btn) => {
    const leftPercent = parseFloat(btn.style.left);
    const delay = (leftPercent / 100) * 2;
    btn.style.animationDelay = `${delay}s`;
  });

  const modal = document.getElementById('modal');
  const modalSingle = document.getElementById('modal-single');
  const modalMulti = document.getElementById('modal-multi');
  const modalClose = document.getElementById('modal-close');
  const swiperWrapper = document.getElementById('swiper-wrapper');

  const modalLogo = document.getElementById('modal-logo');
  const modalTitle = document.getElementById('modal-title');
  const modalAddress = document.getElementById('modal-address');
  const modalLeader = document.getElementById('modal-leader');
  const modalGroup = document.getElementById('modal-group');
  const modalOpen = document.getElementById('modal-open');

  // Группировка школ по городам
  const multiSchoolData = {
    "Москва": [
      {
        title: "Школа 1 в Омске",
        address: "Омск, улица 1",
        leader: "Руководитель 1",
        logo: "assets/img/logos/omsk1.png",
        groupUrl: "https://vk.com/group_omsk1",
        openUrl: "https://vk.com/open_omsk1"
      },
      {
        title: "Школа 2 в Омске",
        address: "Омск, улица 2",
        leader: "Руководитель 2",
        logo: "assets/img/logos/omsk2.png",
        groupUrl: "https://vk.com/group_omsk2",
        openUrl: "https://vk.com/open_omsk2"
      }
    ],
    "Архангельск": [
      {
        title: "Школа А в Зеленогорске",
        address: "Зеленогорск, улица А",
        leader: "Руководитель А",
        logo: "assets/img/logos/z1.png",
        groupUrl: "https://vk.com/group_z1",
        openUrl: "https://vk.com/open_z1"
      },
      {
        title: "Школа Б в Зеленогорске",
        address: "Зеленогорск, улица Б",
        leader: "Руководитель Б",
        logo: "assets/img/logos/z2.png",
        groupUrl: "https://vk.com/group_z2",
        openUrl: "https://vk.com/open_z2"
      }
    ]
  };

  // Обработчик клика на точку
  document.querySelectorAll('.location__r-point').forEach((btn) => {
    btn.addEventListener('click', () => {
      const city = btn.dataset.title;

      // Несколько школ
      if (multiSchoolData[city]) {
        modalSingle.style.display = 'none';
        modalMulti.style.display = 'block';
        swiperWrapper.innerHTML = ''; // Очистить старые слайды

        multiSchoolData[city].forEach((school) => {
          const slide = document.createElement('div');
          slide.className = 'swiper-slide';
          slide.innerHTML = `
            <div class="card">
              <img src="${school.logo}" alt="${school.title}" style="max-width: 100px;">
              <h2>${school.title}</h2>
              <p><strong>Адрес:</strong> ${school.address}</p>
              <p><strong>Руководитель:</strong> ${school.leader}</p>
              <a class="btn" href="${school.groupUrl}" target="_blank">Сообщество VK</a>
              <a class="btn" href="${school.openUrl}" target="_blank">Открыть VK</a>
            </div>
          `;
          swiperWrapper.appendChild(slide);
        });

        // Инициализировать Swiper
        if (window.modalSwiper) {
          window.modalSwiper.update();
        } else {
          window.modalSwiper = new Swiper('.swiper', {
            loop: false,
            autoplay: { delay: 3000 },
            pagination: { el: '.swiper-pagination', clickable: true },
            navigation: {
              nextEl: '.swiper-button-next',
              prevEl: '.swiper-button-prev',
            },
            centeredSlides: true,
            spaceBetween: 20,
            slidesPerView: 1.2,
            breakpoints: {
              768: { slidesPerView: 2.5 }
            }
          });
        }
      } else {
        // Одна школа
        modalSingle.style.display = 'block';
        modalMulti.style.display = 'none';

        modalLogo.src = btn.dataset.logo;
        modalTitle.textContent = city;
        modalAddress.textContent = btn.dataset.address;
        modalLeader.textContent = btn.dataset.leader;
        modalGroup.href = btn.dataset.groupUrl;
        modalOpen.href = btn.dataset.openUrl;
      }

      modal.style.display = 'flex';
    });
  });

  // Закрытие модального окна
  modalClose.addEventListener('click', () => {
    modal.style.display = 'none';
  });

  modal.addEventListener('click', (e) => {
    if (e.target === modal) modal.style.display = 'none';
  });
</script>



  <script>
  function updateTime() {
    const nowUTC = new Date();

    const utcString = nowUTC.toISOString().slice(0, 19).replace("T", " ");
    document.getElementById("utc-time").textContent = utcString.replace(/-/g, ".");

    // МСК = UTC + 3 часа
    const nowMSK = new Date(nowUTC.getTime() + 3 * 60 * 60 * 1000);
    const mskString = nowMSK.toISOString().slice(0, 19).replace("T", " ");
    document.getElementById("msk-time").textContent = mskString.replace(/-/g, ".");
  }

  updateTime();
  setInterval(updateTime, 1000);
</script>
<script src="https://unpkg.com/imask"></script>
<script src="js/form.js"></script>


</body>
</html>